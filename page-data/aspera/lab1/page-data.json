{
    "componentChunkName": "component---src-pages-aspera-lab-1-index-md",
    "path": "/aspera/lab1/",
    "result": {"pageContext":{"frontmatter":{"title":"Aspera Labs"},"relativePagePath":"/aspera/lab1/index.md","titleType":"page","MdxNode":{"id":"cf0c5b06-bcfb-53d6-8165-9d9f13146aca","children":[],"parent":"abfa1650-6351-5ef8-96b9-c158815d2d04","internal":{"content":"---\ntitle: Aspera Labs\n---\n\n##\tAbout this lab.\nIn this lab, you will learn:  \n* To install and configure HSTS.   \n* To install and configure HSTS.   \n* To install and configure Console.   \n* To install and configure Shares.   \n* To install and configure Faspex5 Beta (in container).  \n* To integrate HSTS to Console, Shares and Faspex5.   \n* To create users and authorize users in Shares.   \n* To create users and authorize users in Faspex5.   \n* To use different clients to transfer files.   \n* Basic Functionalities of Console.  \n\nReferences:   \nHSTS: [https://www.ibm.com/docs/en/ahts/4.3](https://www.ibm.com/docs/en/ahts/4.3).  \nConsole: [https://www.ibm.com/docs/en/aspera-console/3.4](https://www.ibm.com/docs/en/aspera-console/3.4).  \nShares: [https://www.ibm.com/docs/en/aspera-shares/1.10](https://www.ibm.com/docs/en/aspera-shares/1.10).  \nFaspex5: [https://www.ibm.com/docs/en/aspera-faspex/5.0](https://www.ibm.com/docs/en/aspera-faspex/5.0). \n\nSoftware Download:  \nAll the latest software will be available from here.   \n[https://www.ibm.com/products/aspera/downloads](https://www.ibm.com/products/aspera/downloads).  \n\nLearning Paths:   \nThere are 2 paths for learning the Aspera products here. Suggestion will be to start with Path 1 and then move on to Path 2 if time permits. \n\nPath 1 – HSTS, Console and Shares (Estimated time: 2 hours).  \n![](images/1.jpg)\n\nPath 2 – HSTS and Faspex5 (Estimated time: 1 hour).  \n![](images/2.jpg) \n\n\n\n## Lab Prerequisites.\n\n1. A server (physical or VM) with at least 4 cores, 8GB RAM and 20GB storage. CentOS 8.x or RHEL 8.x operating system. [ This hardware spec and co-hosting of components is for lab purposes only. NOT suitable for customer environment]\n1. Login in to your server using Mac terminal or Putty (Windows users). If you do not have root access, you will have to use sudo to run the commands. \n3.\tThe following installation software should be made available in /opt/software. \n\n\t> ibm-aspera-common-1.6.0.183823-0.x86_64.rpm.   \n\t> ibm-aspera-console-3.4.2.183921-0.x86_64.rpm.   \n\t> ibm-aspera-faspex-5.0.0.3894.x86_64.rpm.   \n\t> ibm-aspera-hsts-4.3.1.184714-linux-64-release.rpm.   \n\t> ibm-aspera-shares-1.10.0.184434-1.x86_64.rpm.   \n\n4. The following licenses should be made available in /opt/software.\n\t> AsperaEnterprise-unlim.eval.aspera-license.  \n\t> Shares.eval.aspera-license.  \n\t> aspera.Console.eval.license.  \n\n5. Docker installed and started [Required for Faspex5 ONLY].   \n> > \tCheck:    \n> > \tsystemctl status docker.   \n> > \tdocker versaion.  \n![](images/3.jpg)    \nIf it is not installed, refer here to get it installed.   \n[https://docs.docker.com/engine/install/centos/#install-using-the-repository](https://docs.docker.com/engine/install/centos/#install-using-the-repository)   \n\n6. Stop and Disable Firewalld\n> > \tCheck: systemctl status firewalld.  \n> > \tDisable: systemctl disable firewalld.  \n> > \tStop: systemctl stop firewalld.  \n\n7. Set selinux to permissive.   \nEdit /etc/selinux/config. Change the following line.  \n> > \tSELINUX=permissive    \n\nSave and Reboot the machine.  \n8. Access to a SMTP server (Mandatory for Faspex5. Optional for Console and Shares).    \nMain part of Faspex5 is to send notification when there is a package for a user. For this, it is necessary to add a SMTP server to Faspex5. As part of the lab, we will add the SMTP server to Shares, Console and Faspex5. However, participants will need to have access to a SMTP server. If needed, Gmail can be used for this. Please see the section “Using Gmail as SMTP server”.\n\n\n## Install HSTS\n1. From the folder that has the installation files, run this command.\n `yum install /opt/software/ibm-aspera-hsts-4.3.1.184714-linux-64-release.rpm  `\n\n2. Install the license\n`cp /opt/software/AsperaEnterprise-unlim.eval.aspera-license /opt/aspera/etc/aspera-license`\n3. Check the installation    \n`ascp -A`.  \n![](images/4.jpg)\n4. Set the Transfer Node IP address and SSH Port number\n> > \tasconfigurator -F \"set_server_data;server_name,<IP ADDRESS>;ssh_port,<PORT>\"\n> > \tExample:\n> > \tasconfigurator -F \"set_server_data;server_name,67.228.82.52;ssh_port,2222\"\n\n5. Enable Activity Logging\n> >\t\tasconfigurator -x \"set_server_data;activity_logging,true\"\n6. Create a root folder /data to be used to store transferred data.\n> >\t\tmkdir /data\n> >\t\tchmod 777 /data\n\n## Prepare HSTS for Shares Integration\nThe HSTS will need to be configured to be integrated with Shares.   \n1. Create a transfer user (sharesuser) to be used for Shares based transfer. Setup the user for SSH Key based authentication. Set the user for token authentication and define a token. Define root folder for storing files.   \n> > \tuseradd sharesuser \n> > \tmkdir /home/sharesuser/.ssh \n> > \tchown sharesuser:sharesuser /home/sharesuser/.ssh/\t \n> > \tchmod 700 /home/sharesuser/.ssh/ \n> > \tcp /opt/aspera/var/aspera_id_dsa.pub /home/sharesuser/.ssh/authorized_keys \n> > \tchown sharesuser:sharesuser /home/sharesuser/.ssh/authorized_keys \n> > \tchmod 600 /home/sharesuser/.ssh/authorized_keys \n> > \t\n> > \tCreate a sub folder under /data where all transfers via shares is stored.\n> > \tmkdir /data/shares_data\n> > \tchown sharesuser:sharesuser /data/shares_data \n> > \t\n> > \tDefine Token authorization for sharesuser\n> > \tasconfigurator -F \\ \"set_user_data;user_name,sharesuser;authorization_transfer_in_value,token; \\\n> > \tauthorization_transfer_out_value,token\"\n> > \t\n> > \tasconfigurator -F \\ \"set_user_data;user_name,sharesuser;token_encryption_key,<RANDOM STRING>\"\n> > \tExample:\n> > \tasconfigurator -F \\ \"set_user_data;user_name,sharesuser;token_encryption_key,dghjeygvbqweafygf\"\n> > \t\n> > \tDefine Docroot storage for sharesuser\n> > \tasconfigurator -F \\ \"set_user_data;user_name,sharesuser;absolute,/data/shares_data/\"\n\n\tCheck the result of the above commands:\n\tls -lta /home/sharesuser/\n\tls -lta /home/sharesuser/.ssh/\n\tls -lta /data/\n![](images/5.jpg).  \n> > \tasconfigurator -F \"get_user_data;user_name,sharesuser\" | grep in_value\n> > \tasconfigurator -F \"get_user_data;user_name,sharesuser\" | grep out_value\n> > \tasconfigurator -F \"get_user_data;user_name,sharesuser\" | grep token_encryption_key\n> > \tasconfigurator -F \"get_user_data;user_name,sharesuser\" | grep docroot\n![](images/6.jpg)\n\n2. Create a Shares Node user.  \n*We will be creating multiple Node users throughout the labs. Take note of what node user you are creating. The one we are creating now is the “Shares Node User”.*.  \n\n> > \t/opt/aspera/bin/asnodeadmin -a -u sharesnodeuser -p sharesnodeuser -x sharesuser\n> > \t/opt/aspera/bin/asnodeadmin -l\n\n![](images/7.jpg)\n\n\n## Prepare HSTS for Faspex5 Integration\nThe steps are pretty similar to what we did for Shares. \n1. Create a transfer user (faspex5user) to be used for Faspex based transfer. Setup the user for SSH Key based authentication. Set the user for token authentication and define a token. Define root folder for storing packages.   \n\n> > \tuseradd faspex5user\t\n> > \tmkdir /home/faspex5user/.ssh\n> > \tchown faspex5user:faspex5user /home/faspex5user/.ssh/\t\n> > \tchmod 700 /home/faspex5user/.ssh/\n> > \tcp /opt/aspera/var/aspera_id_dsa.pub /home/faspex5user/.ssh/authorized_keys\n> > \tchown faspex5user:faspex5user /home/faspex5user/.ssh/authorized_keys\n> > \tchmod 600 /home/faspex5user/.ssh/authorized_keys\n> > \t\n> > \tCreate a sub folder under /data where all transfers via shares is stored.\n> > \tmkdir /data/faspex5_data\n> > \tchown faspex5user:faspex5user /data/faspex5_data\n> > \t\n> > \tDefine Token authorization for faspex5user\n> > \tasconfigurator -F \\ \"set_user_data;user_name,faspex5user;authorization_transfer_in_value,token; \\\n> > \tauthorization_transfer_out_value,token\"\n> > \t\n> > \tasconfigurator -F \\ \"set_user_data;user_name,faspex5user;token_encryption_key,<RANDOM STRING>\"\n> > \tExample:\n> > \tasconfigurator -F \\ \"set_user_data;user_name,faspex5user;token_encryption_key,dghjeygvbqweafygf\"\n> > \t\n> > \tDefine Docroot storage for faspex5user\n> > \tasconfigurator -F \\ \"set_user_data;user_name,faspex5user;absolute,/data/faspex5_data/\"\n\n\tCheck the result of the above commands:\n\tls -lta /home/faspex5user/\n\tls -lta /home/faspex5user/.ssh/\n\tls -lta /data/\n![](images/8.jpg)\n> > \tasconfigurator -F \"get_user_data;user_name,faspex5user\" | grep in_value\n> > \tasconfigurator -F \"get_user_data;user_name,faspex5user\" | grep out_value\n> > \tasconfigurator -F \"get_user_data;user_name,faspex5user\" | grep token_encryption_key\n> > \tasconfigurator -F \"get_user_data;user_name,faspex5user\" | grep docroot\n![](images/9.jpg)\n\n2. Create a Faspex5 Node user.   \n*We will be creating multiple Node users throughout the labs. Take note of what node user you are creating. The one we are creating now is the “Faspex5 Node User”.*\n\n> > \t/opt/aspera/bin/asnodeadmin -a -u faspex5nodeuser -p faspex5nodeuser -x faspex5user\n> > \t/opt/aspera/bin/asnodeadmin -l\n\n![](images/10.jpg)\n\n\n## Prepare HSTS for Console Integration\nThe following steps are required for integrating HSTS with Console for monitoring purposes.    \n1. Create a transfer user (consoleuser). This user will NOT be used for any transfers. Hence, there is no need to setup token based authentication for the user. \n\n> > \tuseradd consoleuser\n> > \t\n> > \tDefine Docroot storage for consoleuser [this is to avoid unnecessary errors in logs]\n> > \tasconfigurator -F \\ \"set_user_data;user_name,consoleuser;absolute,/tmp/\"\n> > \t\n> > \t/opt/aspera/bin/asnodeadmin -a -u consolenodeuser -p consolenodeuser \\\n> > \t-x consoleuser --acl-set \"admin,impersonation\"\n> > \t\n> > \t/opt/aspera/bin/asnodeadmin -l\n![](images/11.jpg)\n*We will be creating multiple Node users throughout the labs. Take note of what node user you are creating. The one we have created in the above step is the “Console Node User”.*\n\n\n## Install and Setup Console\nFor scenarios where the Console and Shares are installed in the same machine, it is necessary to install the Console first.    \n1. Install Console\n> > \tInstall common and console rpms. \n> > \tyum install /opt/software/ibm-aspera-common-1.6.0.183823-0.x86_64.rpm \n> > \tyum install /opt/software/ibm-aspera-console-3.4.2.183921-0.x86_64.rpm\n> > \t[ Ignore any \"xterm-256color\" related notifications.]\n> > \t\n> > \tNow setup Console.\n> > \tasctl console:setup\n![](images/12v2.jpg)\n\nThis takes a few minutes to complete. At the end, you will be asked to restart apache, mysql and console. Type ‘y’ to accept and restart.    \nIf setup was completed successfully, you will see this message.\n![](images/13.jpg)\n\nRun this command to check the status:\n> > \tasctl all:status  \n\nAll services should be in running status (may take a few minutes).\n![](images/14.jpg)\n\n2. Install License for Console.  \n\n> > \tOpen the console in a browser\n> > \thttps://<IP ADDRESS>:443/aspera/console\n> > \tE.g. https://9.30.188.131:443/aspera/console\n> > \tEnter the username and password used during the \"asctl console:setup\" step. \n> > \t\n> > \tYou’ll be asked to change the password. Change the password. \n> > \t\n> > \tPaste the contents of the Console license file [aspera.Console.eval.license] (OR choose “Upload a license file” and pick the license file). \n> > \t\n> > \tYou should see a “license updated successfully” message. \n\n![](images/15.jpg).  \n\n3. Add HSTS as a node in Console.  \n\n> > \tFrom the Console Web admin interface, \n> > \tGo to Nodes -> New Managed Node\n> > \tEnter the IP address of the HSTS machine and tick “Create Default Console Groups”. Leave the rest to defaults.\n> > \tThen click on Create.\n\n![](images/16.jpg).  \n\n> > \tIn this page, you will need to enter the root or an admin level SSH account details. If you do not have one, you can skip the SSH portion and fill in the NodeAPI portion. \n> > \t\n> > \tEnter the “Console Node User” and password created during “Prepare HSTS for Console Integration” step. This is mandatory. \n> > \tClick on Update\n\n![](images/17.jpg)\n\nIn the next screen click on “Test Credentials”. You should see a message saying “Sucessfully connected to node via ….”. That indicates that the Console is now ready to monitor and manage the HSTS. \n\n![](images/18.jpg)\n\n\n## Install and Setup Shares\n1. Install Shares.  \n\n\t> >\t\tyum install /opt/software/ibm-aspera-shares-1.10.0.184434-1.x86_64.rpm. \n\n2. Configure MySQL to make Shares use the same database as Console\n> \tEdit /opt/aspera/shares/etc/my.cnf.setup\n> \tInsert the MySQL username and password that you used during the install of Console and set host to 127.0.0.1. For the Port, use 5506 if faspex5 is also installed in the same server. Otherwise, leave it at 4406.\n> \tMake sure to use \"127.0.0.1\" for the host and not \"localhost\".\n   \n![](images/19.jpg)\n\n3. Run the Shares Installer\n> > \t/opt/aspera/shares/u/setup/bin/install\n> > \tWait for the installation to complete. It may take a few minutes. \n> > \t\n> > \tWhen it completes, create a Shares Web Admin username and password.\n> > \t/opt/aspera/shares/u/shares/bin/run rake aspera:admin NAME=\"sharesadmin\" PASSWORD=\"admin\" EMAIL=\"admin@nomail.com\"\n\n4. Disable apache web server and setup nginx web server.\n> > \tasctl apache:stop\n> > \tasctl apache:disable\n> > \tln -s /opt/aspera/shares/etc/nginx/locations-available/console  /opt/aspera/shares/etc/nginx/locations-enabled/\n> > \t\n> > \tRestart nginx\n> > \tservice aspera-shares restart\n\n5. Add an ‘AcceptedHosts’ entry\n> > \tEdit this file: /opt/aspera/shares/u/shares/config/shares.yml.  [Make sure to add the host’s IP address]\n> > \tAcceptedHosts: [localhost, 127.0.0.1, <IP Address of Machine>]\n> > \tE.g. \n> > \tAcceptedHosts: [localhost, 127.0.0.1, 9.30.188.131]\n> > \tRestart nginx\n> > \tservice aspera-shares restart\n\n6. Change nginx Web Server listening ports.  \nThis step is needed to allow Console to use Nginx and also for Faspex5 to be installed in the same machine.    \n> > \tEdit this file: /opt/aspera/shares/etc/nginx/nginx.conf\n> > \tChange the port from 80 to 8080 and 443 to 8443. (If faspex5 is installed).    \n\n![](images/20.jpg) \n\n> > \tComment out this line:\n> > \t#add_header Content-Security-Policy \"default-src 'self' 'unsafe-inline' https://local.connectme.us https://d3gcli72yxqn2z.cloudfront.net\";\n> > Restart Nginx.  \nservice aspera-shares restart\n\n\n7. Check if both Console and Shares are accessible\n> > \tOpen a Web Browser and open the following:\n> > \tConsole: https://9.30.188.131:8443/aspera/console\n> > \tShares: https://9.30.188.131:8443/\n\n8. Install License for Shares\n> > \tOpen the Shares Admin Web interface and login with the credentials created after the Shares installer script.\n> > \tYou’ll be asked to change the password. Change the password. \n> > \t\n> > \tPaste the contents of the Shares license file [Shares.eval.aspera-license]. Click on Save.\n![](images/21.jpg).  \n\n> > You should see the details of the license displayed.    \n\n![](images/22.jpg)\n\n9. Update the Web Server IP Address.  \nFrom the Shares Admin page change the web server IP address.\n![](images/23.jpg).  \n\n10. Add HSTS as a node in Shares.  \n`Open the Shares portal [ https://9.30.160.211:8443/ ]and click on the plus sign to add a node.`.  \n\n![](images/24.jpg).  \n`Enter details as described in the snapshot below. Use the “Shares Node User” created for the API Username.`.     \n![](images/25.jpg).  \n`Click on “Test” and the status should be ‘OK’`.  \n![](images/26.jpg)\n\n\n## Install and Setup Faspex5\nFaspex5 is in beta. Faspex5 will replace the currently available Faspex 4.x. Faspex5 is also expected to contain the Shares functionalities. The Shares functionalities in Faspex5  is a roadmap feature.    \nReference: [https://www.ibm.com/docs/en/aspera-faspex/5.0](https://www.ibm.com/docs/en/aspera-faspex/5.0)     \n\n1. Install Faspex5.  \n> > \tyum install /opt/software/ibm-aspera-faspex-5.0.0.3894.x86_64.rpm\n> > \tNOTE: This stops MySQL running in the host node. Restart MySQL with this command. Otherwise, Console and Shares will not function. \n> > \tasctl mysql:start\n\n2. Setup Faspex5.  \nSome default config files are here: /opt/aspera/faspex/conf/docker/. No change is needed for the test setup.    \n> > \tRun the setup command:\n> > \tfaspexctl setup\n![](images/27.jpg).  \nThis will pull images, install Faspex5 and start the containers. Takes a few minutes.   \n*If you see a port 6000 conflict, refer to” [Lab Preparation Document](/aspera-lab/lab0/)” to kill the xvnc process.*   \n\n\tCheck the container status:   \n> >\t\t\tfaspexctl status\n![](images/28.jpg)\nAll containers should be in Up status.\n\n1. Add HSTS as Transfer Node in Faspex5.  \n\tFaspex5 is a web application. We need to add a Transfer server for file transfer purposes.   \n\n> > \tCreate a package_storage folder under /data/faspex5_data\n> > \tmkdir /data/faspex5_data/package_storage\n> > \tchown faspex5user:faspex5user /data/faspex5_data/package_storage\n> > \t \t\n> > \tOpen the Faspex5 web page:\n> > \thttps://9.30.188.131/aspera/faspex\n> > \tLogin with the credentials created during the Faspex5 setup process. \n> > \tYou will be prompted to change password.   \n> > \tChange the password and login into Faspex5 admin portal.\n> > \thttps://9.30.188.131/aspera/faspex/admin \n> > \t\n> > \tClick on “Nodes and Storage” -> Click on “Create Node”\n> > \tUse the “Faspex5 Node User” created previously for the Username.   \n\n![](images/29.jpg)\n\n> > \tIn the next screen, click on “Storage Location” and click “Create Storage Location”.    \n \n![](images/30.jpg)\n\n> > \tThen click on “Save”\n> > \t\n> > \tFinal step is to make the newly added storage the default storage. \n> > \tGo to “Nodes and Storage” -> Click on the newly added node -> Click on “Storage Locations”. Check if it is the default Inbox. If not, Make it the default storage. \n> > \tNOTE: You may have to widen your browser screen if you do not see the default inbox column. \n\n![](images/31.jpg).  \n\n4.Disable HTTP Fallback.  \nFrom the admin login page in Faspex5 go to Configurations -> Transfer Options -> Untick “Enable HTTP Fallback”.  \n![](images/32.jpg).  \n\n5.Enable Sending Packages to External Emails.  \nFor the purpose of this lab, we will allow sending packages to external emails.  This should be enabled by default. Check and enable if it is disabled.    \nFrom the Faspex5 Admin page, Go to Users -> All Users -> Click on the Newly created user\n![](images/33.jpg).  \n\n\n\n## Create and Authorize End-User in Shares\nWe will create a user and authorize the user to a specific folder.    \n1. Create Folder\n> > \tLogin to the Shares Web Page [ https://9.30.160.211:8443/ ]. \n> > \tClick on the Node Created -> New Folder.\n> > \tEnter a name for the folder and click on “Create Folder”. The folder should be created. \n![](images/34.jpg).  \n2. Create Share\nCreate a new share that will be authorized for file transfer.\n![](images/35.jpg)\nThen click on “Create Share”.  \n3. Create Shares End User.  \nCreate a new Shares End User. You will use this to access the Shares for transferring files.   \n![](images/36.jpg) \nIn the next screen Click on \"New\"\n![](images/37.jpg)\nClick on “Create User”.  \nLeave everything in the security tab to default.    \nClick on Shares tab.  \n![](images/38.jpg)\nWe have created a Shares End User and have assigned full access for a particular share to the user.    \n\n\n## Create and Authorize End-User in Faspex5\nWe will create a Faspex5 End user and authorize the user to be able to send / receive packages in Faspex5. \nYou need to have an Email Server setup because new users creation will involve a step of sending an email to end-user to create password. If you have not setup Email notification, refer to section “Setting Up Email Notification” and setup now.    \nLogin into Faspex5 admin portal.   \nhttps://9.30.160.211/aspera/faspex/admin    \n![](images/39.jpg)\nEnter the details and click create\n![](images/40.jpg).  \nClick on Create. An email will be sent to the email address. Follow instructions to reset the password. This is a sample email sent.   \n![](images/41.jpg)\n## Setting Up Email Notification\nWe will setup Email (SMTP) servers for sending notifications. You need to have access to a SMTP server to do this. Otherwise, you can make use of Gmail. Refer to the section on “Using Gmail as SMTP server”.   \nOnce you have the email server detail ready, you can start configuring the web applications. \n\n### Setting up Email Configuration for Faspex5\nLogin to the Faspex5 Admin page. Go to Configuration -> Email Configuration.   \nEnter the details. The screenshot shows an example of using Gmail. You can use your own SMTP server.    \n![](images/42.jpg).  \nClick on Save.    \nClick on “Test Email”. You will be prompted to enter an email address. Once you enter the email address, a test email will be sent to that email address. Receiving the email indicates that the SMTP server details have been entered correctly. This is a sample email received.   \n![](images/43.jpg)\n\n### Setting up Email Configuration for Shares\nLogin to the Shares Admin page. Go to “SMTP” under Email.   \nEnter the details. The screenshot shows an example of using Gmail. You can use your own SMTP server.    \n![](images/44.jpg).  \nClick on “Update SMTP Server”.  \nThen, click on “Send Test Email”. Enter an email address. This should send an email to the entered address.    This is a sample email.   \n![](images/45.jpg).  \n\n### Setting up Email Configuration for Console\nLogin to the Console page. Go to Notifications -> Email Server.   \nEnter the details. The screenshot shows an example of using Gmail. You can use your own SMTP server.   \n![](images/46.jpg).  \nClick on “Save Settings and send test email”.    \nThat should send an email to the recipient. Sample email as below.   \n![](images/47.jpg).  \n\n\n\n## Test various Client Options\nWe have installed and setup the server components. Now let us try various client options.   \n\n### Browser Extension\nDownload Link: [https://www.ibm.com/aspera/connect/](https://www.ibm.com/aspera/connect/).  \n\n> > \t1.Test from Shares\n> > \tOpen the Shares Web page in a web browser: https://9.30.160.211:8443/ \n> > \tLogin using the “Shares End User” created earlier. You may be asked to change your password during the first login. \n> > \tTrigger a transfer (refer screenshot below).\n\n![](images/48.jpg).  \n\n> > \tCheck the folder in HSTS. Uploaded file should be visible. \n> > \tls /data/shares_data/<Folder>/\n\n![](images/49.jpg)\n\n> > \t2.Test from Faspex5\n> > \tOpen the Faspex5 Web page in a web browser: https://9.30.160.211/ \n> > \tLogin using the “Faspex5 End User” created earlier. You may be asked to change your password during the first login. \n> > \tOnce logged in click on “Send Files”\n\n![](images/50.jpg).  \n*Email Notification for Receiving Package is not available in Beta version.*\n\n### Aspera Desktop Client\nDownload Link: [https://www.ibm.com/products/aspera/downloads](https://www.ibm.com/products/aspera/downloads).  [ Look for IBM Aspera Desktop Client ].   \n\nOnce installed, Open the Desktop Client and Click on Connections and Add a new Connection pointing to the Shares. You will use the “Shares End User” login id and password.   \n![](images/51.jpg).  \nDouble click on the newly created connection and it will connect to the Shares server.    \n![](images/52.jpg)\n\n### Aspera Drives\nDownload Link: [https://www.ibm.com/products/aspera/downloads](https://www.ibm.com/products/aspera/downloads).  [Look for IBM Aspera Drive].  \nOnce downloaded, start the application.   \n![](images/53.jpg).  \nClick the Drive icon in the menu bar, and select IBM Aspera Drive. You should be able to access Aspera Shares. You can now drag and drop files here – which will upload files into Aspera Shares.   \n![](images/54.jpg).  \n\n*Aspera Drives can also be used to work with Faspex. However, the beta version of Faspex5 does not support it.*\n\n## Basic Functionalities of Console\nConsole can be used for monitoring and managing transfers, managing transfer servers, and creating reports.    \nRefer to the Console Documents for the full functionalities of Console.    \nLogin to the Console Admin interface: https://9.30.160.211:8443/aspera/console/ using the admin id and password created during the install.    \n\n### Monitoring Transfers\nGo to Dashboard tab.   \nYou will be able to monitor current transfers, recently completed transfers and recently failed transfers.   \n![](images/55.jpg).   \n\n\n### Managing Transfer Servers\nGo to the Nodes tab. Click on ‘edit’ for the node. Will be able to view and make changes to the transfer server configuration.    \n![](images/56.jpg).  \n\n### Reports\nGo to the Reports tab. Click on “Run a Report”.  \nPick “Activity Summary By Contact” report from the list. Click Next.  \nEnter email address if you want to receive the report by email. Click “Run Report”.    \nReport should be generated and emailed.    \n![](images/57.jpg).  \n![](images/58.jpg).  \n\n\n\n## Using Gmail as SMTP server\n\nWe need to create an “App Password” in Gmail. We can then use this for setting up the SMTP server and for notification purposes.    \nThis link explains how to create the App Password.    \n[https://support.google.com/mail/answer/185833?hl=en](https://support.google.com/mail/answer/185833?hl=en)\n\nOnce you create the App Password, you can use the following settings to connect your applications to Gmail SMTP server.    \n\n> > \tSMTP Server: smtp.gmail.com\n> > \tSMTP Port: 587\n> > \tLogin: Your Email address\n> > \tPassword: Use the App Password created. DO NOT use your standard Gmail password. \n\n\n\n","type":"Mdx","contentDigest":"6fc5318e600d7d17dcf7df22d7bfb5b8","owner":"gatsby-plugin-mdx","counter":1558},"frontmatter":{"title":"Aspera Labs"},"exports":{},"rawBody":"---\ntitle: Aspera Labs\n---\n\n##\tAbout this lab.\nIn this lab, you will learn:  \n* To install and configure HSTS.   \n* To install and configure HSTS.   \n* To install and configure Console.   \n* To install and configure Shares.   \n* To install and configure Faspex5 Beta (in container).  \n* To integrate HSTS to Console, Shares and Faspex5.   \n* To create users and authorize users in Shares.   \n* To create users and authorize users in Faspex5.   \n* To use different clients to transfer files.   \n* Basic Functionalities of Console.  \n\nReferences:   \nHSTS: [https://www.ibm.com/docs/en/ahts/4.3](https://www.ibm.com/docs/en/ahts/4.3).  \nConsole: [https://www.ibm.com/docs/en/aspera-console/3.4](https://www.ibm.com/docs/en/aspera-console/3.4).  \nShares: [https://www.ibm.com/docs/en/aspera-shares/1.10](https://www.ibm.com/docs/en/aspera-shares/1.10).  \nFaspex5: [https://www.ibm.com/docs/en/aspera-faspex/5.0](https://www.ibm.com/docs/en/aspera-faspex/5.0). \n\nSoftware Download:  \nAll the latest software will be available from here.   \n[https://www.ibm.com/products/aspera/downloads](https://www.ibm.com/products/aspera/downloads).  \n\nLearning Paths:   \nThere are 2 paths for learning the Aspera products here. Suggestion will be to start with Path 1 and then move on to Path 2 if time permits. \n\nPath 1 – HSTS, Console and Shares (Estimated time: 2 hours).  \n![](images/1.jpg)\n\nPath 2 – HSTS and Faspex5 (Estimated time: 1 hour).  \n![](images/2.jpg) \n\n\n\n## Lab Prerequisites.\n\n1. A server (physical or VM) with at least 4 cores, 8GB RAM and 20GB storage. CentOS 8.x or RHEL 8.x operating system. [ This hardware spec and co-hosting of components is for lab purposes only. NOT suitable for customer environment]\n1. Login in to your server using Mac terminal or Putty (Windows users). If you do not have root access, you will have to use sudo to run the commands. \n3.\tThe following installation software should be made available in /opt/software. \n\n\t> ibm-aspera-common-1.6.0.183823-0.x86_64.rpm.   \n\t> ibm-aspera-console-3.4.2.183921-0.x86_64.rpm.   \n\t> ibm-aspera-faspex-5.0.0.3894.x86_64.rpm.   \n\t> ibm-aspera-hsts-4.3.1.184714-linux-64-release.rpm.   \n\t> ibm-aspera-shares-1.10.0.184434-1.x86_64.rpm.   \n\n4. The following licenses should be made available in /opt/software.\n\t> AsperaEnterprise-unlim.eval.aspera-license.  \n\t> Shares.eval.aspera-license.  \n\t> aspera.Console.eval.license.  \n\n5. Docker installed and started [Required for Faspex5 ONLY].   \n> > \tCheck:    \n> > \tsystemctl status docker.   \n> > \tdocker versaion.  \n![](images/3.jpg)    \nIf it is not installed, refer here to get it installed.   \n[https://docs.docker.com/engine/install/centos/#install-using-the-repository](https://docs.docker.com/engine/install/centos/#install-using-the-repository)   \n\n6. Stop and Disable Firewalld\n> > \tCheck: systemctl status firewalld.  \n> > \tDisable: systemctl disable firewalld.  \n> > \tStop: systemctl stop firewalld.  \n\n7. Set selinux to permissive.   \nEdit /etc/selinux/config. Change the following line.  \n> > \tSELINUX=permissive    \n\nSave and Reboot the machine.  \n8. Access to a SMTP server (Mandatory for Faspex5. Optional for Console and Shares).    \nMain part of Faspex5 is to send notification when there is a package for a user. For this, it is necessary to add a SMTP server to Faspex5. As part of the lab, we will add the SMTP server to Shares, Console and Faspex5. However, participants will need to have access to a SMTP server. If needed, Gmail can be used for this. Please see the section “Using Gmail as SMTP server”.\n\n\n## Install HSTS\n1. From the folder that has the installation files, run this command.\n `yum install /opt/software/ibm-aspera-hsts-4.3.1.184714-linux-64-release.rpm  `\n\n2. Install the license\n`cp /opt/software/AsperaEnterprise-unlim.eval.aspera-license /opt/aspera/etc/aspera-license`\n3. Check the installation    \n`ascp -A`.  \n![](images/4.jpg)\n4. Set the Transfer Node IP address and SSH Port number\n> > \tasconfigurator -F \"set_server_data;server_name,<IP ADDRESS>;ssh_port,<PORT>\"\n> > \tExample:\n> > \tasconfigurator -F \"set_server_data;server_name,67.228.82.52;ssh_port,2222\"\n\n5. Enable Activity Logging\n> >\t\tasconfigurator -x \"set_server_data;activity_logging,true\"\n6. Create a root folder /data to be used to store transferred data.\n> >\t\tmkdir /data\n> >\t\tchmod 777 /data\n\n## Prepare HSTS for Shares Integration\nThe HSTS will need to be configured to be integrated with Shares.   \n1. Create a transfer user (sharesuser) to be used for Shares based transfer. Setup the user for SSH Key based authentication. Set the user for token authentication and define a token. Define root folder for storing files.   \n> > \tuseradd sharesuser \n> > \tmkdir /home/sharesuser/.ssh \n> > \tchown sharesuser:sharesuser /home/sharesuser/.ssh/\t \n> > \tchmod 700 /home/sharesuser/.ssh/ \n> > \tcp /opt/aspera/var/aspera_id_dsa.pub /home/sharesuser/.ssh/authorized_keys \n> > \tchown sharesuser:sharesuser /home/sharesuser/.ssh/authorized_keys \n> > \tchmod 600 /home/sharesuser/.ssh/authorized_keys \n> > \t\n> > \tCreate a sub folder under /data where all transfers via shares is stored.\n> > \tmkdir /data/shares_data\n> > \tchown sharesuser:sharesuser /data/shares_data \n> > \t\n> > \tDefine Token authorization for sharesuser\n> > \tasconfigurator -F \\ \"set_user_data;user_name,sharesuser;authorization_transfer_in_value,token; \\\n> > \tauthorization_transfer_out_value,token\"\n> > \t\n> > \tasconfigurator -F \\ \"set_user_data;user_name,sharesuser;token_encryption_key,<RANDOM STRING>\"\n> > \tExample:\n> > \tasconfigurator -F \\ \"set_user_data;user_name,sharesuser;token_encryption_key,dghjeygvbqweafygf\"\n> > \t\n> > \tDefine Docroot storage for sharesuser\n> > \tasconfigurator -F \\ \"set_user_data;user_name,sharesuser;absolute,/data/shares_data/\"\n\n\tCheck the result of the above commands:\n\tls -lta /home/sharesuser/\n\tls -lta /home/sharesuser/.ssh/\n\tls -lta /data/\n![](images/5.jpg).  \n> > \tasconfigurator -F \"get_user_data;user_name,sharesuser\" | grep in_value\n> > \tasconfigurator -F \"get_user_data;user_name,sharesuser\" | grep out_value\n> > \tasconfigurator -F \"get_user_data;user_name,sharesuser\" | grep token_encryption_key\n> > \tasconfigurator -F \"get_user_data;user_name,sharesuser\" | grep docroot\n![](images/6.jpg)\n\n2. Create a Shares Node user.  \n*We will be creating multiple Node users throughout the labs. Take note of what node user you are creating. The one we are creating now is the “Shares Node User”.*.  \n\n> > \t/opt/aspera/bin/asnodeadmin -a -u sharesnodeuser -p sharesnodeuser -x sharesuser\n> > \t/opt/aspera/bin/asnodeadmin -l\n\n![](images/7.jpg)\n\n\n## Prepare HSTS for Faspex5 Integration\nThe steps are pretty similar to what we did for Shares. \n1. Create a transfer user (faspex5user) to be used for Faspex based transfer. Setup the user for SSH Key based authentication. Set the user for token authentication and define a token. Define root folder for storing packages.   \n\n> > \tuseradd faspex5user\t\n> > \tmkdir /home/faspex5user/.ssh\n> > \tchown faspex5user:faspex5user /home/faspex5user/.ssh/\t\n> > \tchmod 700 /home/faspex5user/.ssh/\n> > \tcp /opt/aspera/var/aspera_id_dsa.pub /home/faspex5user/.ssh/authorized_keys\n> > \tchown faspex5user:faspex5user /home/faspex5user/.ssh/authorized_keys\n> > \tchmod 600 /home/faspex5user/.ssh/authorized_keys\n> > \t\n> > \tCreate a sub folder under /data where all transfers via shares is stored.\n> > \tmkdir /data/faspex5_data\n> > \tchown faspex5user:faspex5user /data/faspex5_data\n> > \t\n> > \tDefine Token authorization for faspex5user\n> > \tasconfigurator -F \\ \"set_user_data;user_name,faspex5user;authorization_transfer_in_value,token; \\\n> > \tauthorization_transfer_out_value,token\"\n> > \t\n> > \tasconfigurator -F \\ \"set_user_data;user_name,faspex5user;token_encryption_key,<RANDOM STRING>\"\n> > \tExample:\n> > \tasconfigurator -F \\ \"set_user_data;user_name,faspex5user;token_encryption_key,dghjeygvbqweafygf\"\n> > \t\n> > \tDefine Docroot storage for faspex5user\n> > \tasconfigurator -F \\ \"set_user_data;user_name,faspex5user;absolute,/data/faspex5_data/\"\n\n\tCheck the result of the above commands:\n\tls -lta /home/faspex5user/\n\tls -lta /home/faspex5user/.ssh/\n\tls -lta /data/\n![](images/8.jpg)\n> > \tasconfigurator -F \"get_user_data;user_name,faspex5user\" | grep in_value\n> > \tasconfigurator -F \"get_user_data;user_name,faspex5user\" | grep out_value\n> > \tasconfigurator -F \"get_user_data;user_name,faspex5user\" | grep token_encryption_key\n> > \tasconfigurator -F \"get_user_data;user_name,faspex5user\" | grep docroot\n![](images/9.jpg)\n\n2. Create a Faspex5 Node user.   \n*We will be creating multiple Node users throughout the labs. Take note of what node user you are creating. The one we are creating now is the “Faspex5 Node User”.*\n\n> > \t/opt/aspera/bin/asnodeadmin -a -u faspex5nodeuser -p faspex5nodeuser -x faspex5user\n> > \t/opt/aspera/bin/asnodeadmin -l\n\n![](images/10.jpg)\n\n\n## Prepare HSTS for Console Integration\nThe following steps are required for integrating HSTS with Console for monitoring purposes.    \n1. Create a transfer user (consoleuser). This user will NOT be used for any transfers. Hence, there is no need to setup token based authentication for the user. \n\n> > \tuseradd consoleuser\n> > \t\n> > \tDefine Docroot storage for consoleuser [this is to avoid unnecessary errors in logs]\n> > \tasconfigurator -F \\ \"set_user_data;user_name,consoleuser;absolute,/tmp/\"\n> > \t\n> > \t/opt/aspera/bin/asnodeadmin -a -u consolenodeuser -p consolenodeuser \\\n> > \t-x consoleuser --acl-set \"admin,impersonation\"\n> > \t\n> > \t/opt/aspera/bin/asnodeadmin -l\n![](images/11.jpg)\n*We will be creating multiple Node users throughout the labs. Take note of what node user you are creating. The one we have created in the above step is the “Console Node User”.*\n\n\n## Install and Setup Console\nFor scenarios where the Console and Shares are installed in the same machine, it is necessary to install the Console first.    \n1. Install Console\n> > \tInstall common and console rpms. \n> > \tyum install /opt/software/ibm-aspera-common-1.6.0.183823-0.x86_64.rpm \n> > \tyum install /opt/software/ibm-aspera-console-3.4.2.183921-0.x86_64.rpm\n> > \t[ Ignore any \"xterm-256color\" related notifications.]\n> > \t\n> > \tNow setup Console.\n> > \tasctl console:setup\n![](images/12v2.jpg)\n\nThis takes a few minutes to complete. At the end, you will be asked to restart apache, mysql and console. Type ‘y’ to accept and restart.    \nIf setup was completed successfully, you will see this message.\n![](images/13.jpg)\n\nRun this command to check the status:\n> > \tasctl all:status  \n\nAll services should be in running status (may take a few minutes).\n![](images/14.jpg)\n\n2. Install License for Console.  \n\n> > \tOpen the console in a browser\n> > \thttps://<IP ADDRESS>:443/aspera/console\n> > \tE.g. https://9.30.188.131:443/aspera/console\n> > \tEnter the username and password used during the \"asctl console:setup\" step. \n> > \t\n> > \tYou’ll be asked to change the password. Change the password. \n> > \t\n> > \tPaste the contents of the Console license file [aspera.Console.eval.license] (OR choose “Upload a license file” and pick the license file). \n> > \t\n> > \tYou should see a “license updated successfully” message. \n\n![](images/15.jpg).  \n\n3. Add HSTS as a node in Console.  \n\n> > \tFrom the Console Web admin interface, \n> > \tGo to Nodes -> New Managed Node\n> > \tEnter the IP address of the HSTS machine and tick “Create Default Console Groups”. Leave the rest to defaults.\n> > \tThen click on Create.\n\n![](images/16.jpg).  \n\n> > \tIn this page, you will need to enter the root or an admin level SSH account details. If you do not have one, you can skip the SSH portion and fill in the NodeAPI portion. \n> > \t\n> > \tEnter the “Console Node User” and password created during “Prepare HSTS for Console Integration” step. This is mandatory. \n> > \tClick on Update\n\n![](images/17.jpg)\n\nIn the next screen click on “Test Credentials”. You should see a message saying “Sucessfully connected to node via ….”. That indicates that the Console is now ready to monitor and manage the HSTS. \n\n![](images/18.jpg)\n\n\n## Install and Setup Shares\n1. Install Shares.  \n\n\t> >\t\tyum install /opt/software/ibm-aspera-shares-1.10.0.184434-1.x86_64.rpm. \n\n2. Configure MySQL to make Shares use the same database as Console\n> \tEdit /opt/aspera/shares/etc/my.cnf.setup\n> \tInsert the MySQL username and password that you used during the install of Console and set host to 127.0.0.1. For the Port, use 5506 if faspex5 is also installed in the same server. Otherwise, leave it at 4406.\n> \tMake sure to use \"127.0.0.1\" for the host and not \"localhost\".\n   \n![](images/19.jpg)\n\n3. Run the Shares Installer\n> > \t/opt/aspera/shares/u/setup/bin/install\n> > \tWait for the installation to complete. It may take a few minutes. \n> > \t\n> > \tWhen it completes, create a Shares Web Admin username and password.\n> > \t/opt/aspera/shares/u/shares/bin/run rake aspera:admin NAME=\"sharesadmin\" PASSWORD=\"admin\" EMAIL=\"admin@nomail.com\"\n\n4. Disable apache web server and setup nginx web server.\n> > \tasctl apache:stop\n> > \tasctl apache:disable\n> > \tln -s /opt/aspera/shares/etc/nginx/locations-available/console  /opt/aspera/shares/etc/nginx/locations-enabled/\n> > \t\n> > \tRestart nginx\n> > \tservice aspera-shares restart\n\n5. Add an ‘AcceptedHosts’ entry\n> > \tEdit this file: /opt/aspera/shares/u/shares/config/shares.yml.  [Make sure to add the host’s IP address]\n> > \tAcceptedHosts: [localhost, 127.0.0.1, <IP Address of Machine>]\n> > \tE.g. \n> > \tAcceptedHosts: [localhost, 127.0.0.1, 9.30.188.131]\n> > \tRestart nginx\n> > \tservice aspera-shares restart\n\n6. Change nginx Web Server listening ports.  \nThis step is needed to allow Console to use Nginx and also for Faspex5 to be installed in the same machine.    \n> > \tEdit this file: /opt/aspera/shares/etc/nginx/nginx.conf\n> > \tChange the port from 80 to 8080 and 443 to 8443. (If faspex5 is installed).    \n\n![](images/20.jpg) \n\n> > \tComment out this line:\n> > \t#add_header Content-Security-Policy \"default-src 'self' 'unsafe-inline' https://local.connectme.us https://d3gcli72yxqn2z.cloudfront.net\";\n> > Restart Nginx.  \nservice aspera-shares restart\n\n\n7. Check if both Console and Shares are accessible\n> > \tOpen a Web Browser and open the following:\n> > \tConsole: https://9.30.188.131:8443/aspera/console\n> > \tShares: https://9.30.188.131:8443/\n\n8. Install License for Shares\n> > \tOpen the Shares Admin Web interface and login with the credentials created after the Shares installer script.\n> > \tYou’ll be asked to change the password. Change the password. \n> > \t\n> > \tPaste the contents of the Shares license file [Shares.eval.aspera-license]. Click on Save.\n![](images/21.jpg).  \n\n> > You should see the details of the license displayed.    \n\n![](images/22.jpg)\n\n9. Update the Web Server IP Address.  \nFrom the Shares Admin page change the web server IP address.\n![](images/23.jpg).  \n\n10. Add HSTS as a node in Shares.  \n`Open the Shares portal [ https://9.30.160.211:8443/ ]and click on the plus sign to add a node.`.  \n\n![](images/24.jpg).  \n`Enter details as described in the snapshot below. Use the “Shares Node User” created for the API Username.`.     \n![](images/25.jpg).  \n`Click on “Test” and the status should be ‘OK’`.  \n![](images/26.jpg)\n\n\n## Install and Setup Faspex5\nFaspex5 is in beta. Faspex5 will replace the currently available Faspex 4.x. Faspex5 is also expected to contain the Shares functionalities. The Shares functionalities in Faspex5  is a roadmap feature.    \nReference: [https://www.ibm.com/docs/en/aspera-faspex/5.0](https://www.ibm.com/docs/en/aspera-faspex/5.0)     \n\n1. Install Faspex5.  \n> > \tyum install /opt/software/ibm-aspera-faspex-5.0.0.3894.x86_64.rpm\n> > \tNOTE: This stops MySQL running in the host node. Restart MySQL with this command. Otherwise, Console and Shares will not function. \n> > \tasctl mysql:start\n\n2. Setup Faspex5.  \nSome default config files are here: /opt/aspera/faspex/conf/docker/. No change is needed for the test setup.    \n> > \tRun the setup command:\n> > \tfaspexctl setup\n![](images/27.jpg).  \nThis will pull images, install Faspex5 and start the containers. Takes a few minutes.   \n*If you see a port 6000 conflict, refer to” [Lab Preparation Document](/aspera-lab/lab0/)” to kill the xvnc process.*   \n\n\tCheck the container status:   \n> >\t\t\tfaspexctl status\n![](images/28.jpg)\nAll containers should be in Up status.\n\n1. Add HSTS as Transfer Node in Faspex5.  \n\tFaspex5 is a web application. We need to add a Transfer server for file transfer purposes.   \n\n> > \tCreate a package_storage folder under /data/faspex5_data\n> > \tmkdir /data/faspex5_data/package_storage\n> > \tchown faspex5user:faspex5user /data/faspex5_data/package_storage\n> > \t \t\n> > \tOpen the Faspex5 web page:\n> > \thttps://9.30.188.131/aspera/faspex\n> > \tLogin with the credentials created during the Faspex5 setup process. \n> > \tYou will be prompted to change password.   \n> > \tChange the password and login into Faspex5 admin portal.\n> > \thttps://9.30.188.131/aspera/faspex/admin \n> > \t\n> > \tClick on “Nodes and Storage” -> Click on “Create Node”\n> > \tUse the “Faspex5 Node User” created previously for the Username.   \n\n![](images/29.jpg)\n\n> > \tIn the next screen, click on “Storage Location” and click “Create Storage Location”.    \n \n![](images/30.jpg)\n\n> > \tThen click on “Save”\n> > \t\n> > \tFinal step is to make the newly added storage the default storage. \n> > \tGo to “Nodes and Storage” -> Click on the newly added node -> Click on “Storage Locations”. Check if it is the default Inbox. If not, Make it the default storage. \n> > \tNOTE: You may have to widen your browser screen if you do not see the default inbox column. \n\n![](images/31.jpg).  \n\n4.Disable HTTP Fallback.  \nFrom the admin login page in Faspex5 go to Configurations -> Transfer Options -> Untick “Enable HTTP Fallback”.  \n![](images/32.jpg).  \n\n5.Enable Sending Packages to External Emails.  \nFor the purpose of this lab, we will allow sending packages to external emails.  This should be enabled by default. Check and enable if it is disabled.    \nFrom the Faspex5 Admin page, Go to Users -> All Users -> Click on the Newly created user\n![](images/33.jpg).  \n\n\n\n## Create and Authorize End-User in Shares\nWe will create a user and authorize the user to a specific folder.    \n1. Create Folder\n> > \tLogin to the Shares Web Page [ https://9.30.160.211:8443/ ]. \n> > \tClick on the Node Created -> New Folder.\n> > \tEnter a name for the folder and click on “Create Folder”. The folder should be created. \n![](images/34.jpg).  \n2. Create Share\nCreate a new share that will be authorized for file transfer.\n![](images/35.jpg)\nThen click on “Create Share”.  \n3. Create Shares End User.  \nCreate a new Shares End User. You will use this to access the Shares for transferring files.   \n![](images/36.jpg) \nIn the next screen Click on \"New\"\n![](images/37.jpg)\nClick on “Create User”.  \nLeave everything in the security tab to default.    \nClick on Shares tab.  \n![](images/38.jpg)\nWe have created a Shares End User and have assigned full access for a particular share to the user.    \n\n\n## Create and Authorize End-User in Faspex5\nWe will create a Faspex5 End user and authorize the user to be able to send / receive packages in Faspex5. \nYou need to have an Email Server setup because new users creation will involve a step of sending an email to end-user to create password. If you have not setup Email notification, refer to section “Setting Up Email Notification” and setup now.    \nLogin into Faspex5 admin portal.   \nhttps://9.30.160.211/aspera/faspex/admin    \n![](images/39.jpg)\nEnter the details and click create\n![](images/40.jpg).  \nClick on Create. An email will be sent to the email address. Follow instructions to reset the password. This is a sample email sent.   \n![](images/41.jpg)\n## Setting Up Email Notification\nWe will setup Email (SMTP) servers for sending notifications. You need to have access to a SMTP server to do this. Otherwise, you can make use of Gmail. Refer to the section on “Using Gmail as SMTP server”.   \nOnce you have the email server detail ready, you can start configuring the web applications. \n\n### Setting up Email Configuration for Faspex5\nLogin to the Faspex5 Admin page. Go to Configuration -> Email Configuration.   \nEnter the details. The screenshot shows an example of using Gmail. You can use your own SMTP server.    \n![](images/42.jpg).  \nClick on Save.    \nClick on “Test Email”. You will be prompted to enter an email address. Once you enter the email address, a test email will be sent to that email address. Receiving the email indicates that the SMTP server details have been entered correctly. This is a sample email received.   \n![](images/43.jpg)\n\n### Setting up Email Configuration for Shares\nLogin to the Shares Admin page. Go to “SMTP” under Email.   \nEnter the details. The screenshot shows an example of using Gmail. You can use your own SMTP server.    \n![](images/44.jpg).  \nClick on “Update SMTP Server”.  \nThen, click on “Send Test Email”. Enter an email address. This should send an email to the entered address.    This is a sample email.   \n![](images/45.jpg).  \n\n### Setting up Email Configuration for Console\nLogin to the Console page. Go to Notifications -> Email Server.   \nEnter the details. The screenshot shows an example of using Gmail. You can use your own SMTP server.   \n![](images/46.jpg).  \nClick on “Save Settings and send test email”.    \nThat should send an email to the recipient. Sample email as below.   \n![](images/47.jpg).  \n\n\n\n## Test various Client Options\nWe have installed and setup the server components. Now let us try various client options.   \n\n### Browser Extension\nDownload Link: [https://www.ibm.com/aspera/connect/](https://www.ibm.com/aspera/connect/).  \n\n> > \t1.Test from Shares\n> > \tOpen the Shares Web page in a web browser: https://9.30.160.211:8443/ \n> > \tLogin using the “Shares End User” created earlier. You may be asked to change your password during the first login. \n> > \tTrigger a transfer (refer screenshot below).\n\n![](images/48.jpg).  \n\n> > \tCheck the folder in HSTS. Uploaded file should be visible. \n> > \tls /data/shares_data/<Folder>/\n\n![](images/49.jpg)\n\n> > \t2.Test from Faspex5\n> > \tOpen the Faspex5 Web page in a web browser: https://9.30.160.211/ \n> > \tLogin using the “Faspex5 End User” created earlier. You may be asked to change your password during the first login. \n> > \tOnce logged in click on “Send Files”\n\n![](images/50.jpg).  \n*Email Notification for Receiving Package is not available in Beta version.*\n\n### Aspera Desktop Client\nDownload Link: [https://www.ibm.com/products/aspera/downloads](https://www.ibm.com/products/aspera/downloads).  [ Look for IBM Aspera Desktop Client ].   \n\nOnce installed, Open the Desktop Client and Click on Connections and Add a new Connection pointing to the Shares. You will use the “Shares End User” login id and password.   \n![](images/51.jpg).  \nDouble click on the newly created connection and it will connect to the Shares server.    \n![](images/52.jpg)\n\n### Aspera Drives\nDownload Link: [https://www.ibm.com/products/aspera/downloads](https://www.ibm.com/products/aspera/downloads).  [Look for IBM Aspera Drive].  \nOnce downloaded, start the application.   \n![](images/53.jpg).  \nClick the Drive icon in the menu bar, and select IBM Aspera Drive. You should be able to access Aspera Shares. You can now drag and drop files here – which will upload files into Aspera Shares.   \n![](images/54.jpg).  \n\n*Aspera Drives can also be used to work with Faspex. However, the beta version of Faspex5 does not support it.*\n\n## Basic Functionalities of Console\nConsole can be used for monitoring and managing transfers, managing transfer servers, and creating reports.    \nRefer to the Console Documents for the full functionalities of Console.    \nLogin to the Console Admin interface: https://9.30.160.211:8443/aspera/console/ using the admin id and password created during the install.    \n\n### Monitoring Transfers\nGo to Dashboard tab.   \nYou will be able to monitor current transfers, recently completed transfers and recently failed transfers.   \n![](images/55.jpg).   \n\n\n### Managing Transfer Servers\nGo to the Nodes tab. Click on ‘edit’ for the node. Will be able to view and make changes to the transfer server configuration.    \n![](images/56.jpg).  \n\n### Reports\nGo to the Reports tab. Click on “Run a Report”.  \nPick “Activity Summary By Contact” report from the list. Click Next.  \nEnter email address if you want to receive the report by email. Click “Run Report”.    \nReport should be generated and emailed.    \n![](images/57.jpg).  \n![](images/58.jpg).  \n\n\n\n## Using Gmail as SMTP server\n\nWe need to create an “App Password” in Gmail. We can then use this for setting up the SMTP server and for notification purposes.    \nThis link explains how to create the App Password.    \n[https://support.google.com/mail/answer/185833?hl=en](https://support.google.com/mail/answer/185833?hl=en)\n\nOnce you create the App Password, you can use the following settings to connect your applications to Gmail SMTP server.    \n\n> > \tSMTP Server: smtp.gmail.com\n> > \tSMTP Port: 587\n> > \tLogin: Your Email address\n> > \tPassword: Use the App Password created. DO NOT use your standard Gmail password. \n\n\n\n","fileAbsolutePath":"/Users/thomas/Documents/IBM/Projects/Internal/techjam/src/pages/aspera/lab1/index.md"}}},
    "staticQueryHashes": ["1364590287","137577622","2102389209","2456312558","2746626797","3018647132","3037994772","768070550"]}