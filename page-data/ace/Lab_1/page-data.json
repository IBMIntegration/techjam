{
    "componentChunkName": "component---src-pages-ace-lab-1-index-md",
    "path": "/ace/Lab_1/",
    "result": {"pageContext":{"frontmatter":{"title":"App Connect Designer Salesforce"},"relativePagePath":"/ace/Lab_1/index.md","titleType":"page","MdxNode":{"id":"504a8987-edcb-5ea9-8020-5f9d9273d612","children":[],"parent":"d486f3df-6dd9-5865-bf1a-8e49fefc2a08","internal":{"content":"---\ntitle: App Connect Designer Salesforce\n---\n[Return to main lab page](../../acelabs/Overview/)\n\n# Table of Contents\n\n- [Table of Contents](#table-of-contents)\n- [1. Introduction](#1-introduction-)\n- [2. Create a Designer Flow in CP4I to Call Salesforce  ](#2-create-a-designer-flow-in-cp4i-to-call-salesforce--)\n  - [2a Testing the API flow ](#2a-testing-the-api-flow-)\n- [3. Deploying Your Designer Flow to App Connect Dashboard ](#3-deploying-your-designer-flow-to-app-connect-dashboard-)\n\n---\n\n# 1. Introduction \n\nThe purpose of this LAB is to show how to retrieve Salesforce Account Records using IBM App Connect Designer on IBM Cloud Pak for Integration. When prompted to log in to CP4I  use the username and password provided to you for this lab.\n\n## 2. Create a Designer Flow in CP4I to Call Salesforce  \n\nIn this section we use App Connect Designer to create a flow that will be exposed as an API to connect and call Salesforce records.\n\n1\\. Select the Enterprise LDAP\n\n![alt text][images/0.png]\n\n2\\. When prompted use the username and password provided to you for this lab. In this example we are using cody1.\n\n3\\. Within the Integrations cox click on the Designer link to take you to the App Connect Designer dashboard.\n\n![alt text][images/2.png]\n\n4\\. Click on Create Flows for an API:\n\n![alt text][images/8.png]\n\n5\\. First thing we will do is create the model for this.  We will call the model **SalesforceRetrieve**\n\n![alt text][images/9.png]\n\n6\\. For this example, we will map the following properties which are all data type String. You can also set the data type to Number for properties containing numerical integer values.\n\n1. AccountID\n2. AccountName\n3. Website\n\n![alt text][images/1.png0]\n\n7\\. Now that we have defined the properties in our API model definition, we can implement a flow by clicking on the Operations tab. The Operations tab is located next to the Properties tab.\nFrom the Operations drop-down menu, select Add a Custom Operation. Here we will customize the operation that we want our API to perform.\n\n8\\. Customize the details of your API operation.\n\n* **Note**: You can optionally set a description for your individual API operation.\n  * Display Name:**Retrieve Accounts**\n  * HTTP Verb:**GET**\n  * Operation Name:**accounts**\n    * Note: The operation name will be a part of your API Endpoint URL and is therefore consumer-facing.\n  * Response body:**SalesforceRetrieve**\n\n9\\. After customizing your API operation, the details should match the image below.\n\n![alt text][images/1.png1]\n\nNow we can click the Implement Flow button next to our API operation definition. This will take us to the App Connect Designer flow. This is where we can insert Smart Connectors to communicate with a variety of external applications as well as implement conditional logic and callable flows.\n\n10\\. After clicking the blue plus icon on our flow designer interface, we will be able to see the variety of Smart Connectors offered by IBM App Connect Designer. You will also see an option for callable flows which allows you to integrate more complex logic into your Designer flows by building them in App Connect Enterprise Toolkit and calling them via REST API protocols.\n\n![alt text][images/1.png2]\n\n11\\.For our lab, we will be using the Salesforce smart connector, so let us scroll down to the Salesforce connector and select it.\n\n12\\. There is a vast catalog of different Salesforce objects you can interact with from App Connect Designer. In this lab we are retrieving Account information so go ahead and drop down the Accounts option and click Retrieve accounts.\n\n![alt text][images/1.png3]\n\n13\\. The next interface that populates under our Designer flow allows us to add conditionals to our integration flow. For example, if we want to retrieve all account records for a particular account, we can specify this condition by setting the AccountName key to the respective account.\n\nIn our example, we will retrieve the first 4 Salesforce account records. In order to do this, we can set the Maximum number of items to retrieve field to 4.  And then select, Process 4 item from the collection in the radio button options. As you can see there is also some error handling options provided by App Connect Designer below.\n\nA helpful feature offered by the Smart Connectors is the **“Try this action”** button outlined in the green box above. Clicking this button will allow you to test your Salesforce connection.\n\n![alt text][images/1.png4]\n\n14\\. You can now click on the View details to see the results.   This is done even before your API is complete and allows you to see info that is returned from Salesforce to be mapped.\n\n![alt text][images/1.png5]\n\n15\\. This shows the Test Results details.\n\n![alt text][images/1.png6]\n\n16\\. Now we can configurate our API Response body to populate a successful response message with the data fields we are interested in returning to our consumer. Go ahead and click the Response button on the integration flow (outlined in the blue box below).\n\n![alt text][images/1.png7]\n\n17\\. Now we will map our API Response keys to the respective values we want our consumer to obtain from Salesforce. Let us start with the **AccountID** field.\n\n* Click within the textbox for AccountID.\n* A popup window will appear with A.I. enabled suggested mappings from the data available to the flow. At the right hand side of each flow shows a vertical line of dots that show the level of confidence.\n* Click on the Account ID from Salesforce\n\n![alt text][images/9ai.png]\n\nRepeat the same process for Account Name and Website selecting the corresponding fields from Salesforce.\n\nNote: If you accidendly click twice on the input field the popup suggestion window will close. Click away from the input field and back again into it so it'll pop up again.\n\n18\\. After populating all the fields your mapping should match the image attached below.\n\n![alt text][images/2.png0]\n\n19\\. Click Done.\n\n![alt text][images/20b.png]\n\n20\\. We are now ready to start the API but first need to give it a meaningful name. Cliecn on the current name of the API. For example Untitled API 1.\n\n![alt text][images/20c.png]\n\n21. Enter your userid followed by SFAccounts as name and then toggle the slider on the right from Stopped to Started.\n\n![images/20d.png][images/20d.png]\n\n## 2a Testing the API flow \n\n1\\. Once the flow switches to Started state a Test tab will appear. Click on it.\n\n![alt text][images/50a.png]\n\n2\\. Now select the GET operation on the left menu and review the information on this API we just created.  Now you should be able to see the Details pane describing the properties and parameters of your REST API operation. The full URL endpoint for your Designer flow is also displayed.\n\n![alt text][images/2.png3]\n\n3\\. Click on Try It to test the API\n\n![alt text][images/2.png4]\n\n4\\. Click on the Send button. This will trigger an API call to your Designer flow and in turn populate a Request and Response pane below the Send button.\n\n![alt text][images/2.png5]\n\n# 3. Deploying Your Designer Flow to App Connect Dashboard \n\nNow we can export our Designer flow App Connect Dashboard on Cloud Pak for Integration. Navigate to your App Connect Designer Dashboard so we can export our flow as a BAR file.\n\n1\\. Click on Dashboard to get back to the main designer page where you will see your API running.\n\n![alt text][images/3.png7]\n\n2\\. You will see that your API is running and you then will click on the triple-dot icon on your Designer flow.  Select Export.\n\n![alt text][images/3.png8]\n\n3\\. We will export this API as a runtime flow asset (BAR).\n\n![alt text][images/3.png9]\n\n4\\. You will save the BAR file locally on your PC and will use that to deploy to the AppConnect runtime.\n\n5\\. Now we will go back to the Integration home page. Click on the IBM Cloud Pak for Integration on the top menu\n\n![alt text][images/4.png0]\n\n6\\. From the Platform Navigator, select your App Connect Dashboard instance.\n\n![alt text][images/4.png1]\n\n7\\. Now select the Create a server option from your App Connect Dashboard capability\n\n![alt text][images/4.png2]\n\n8\\. We will now select Quick start integration to create a small deployment of an ACE Integration Server.\n\n![alt text][images/4.png3]\n\n9\\. Now we will either drag and drop the BAR file we just exported or we can click to upload it.  Then click next.\n\n![alt text][images/4.png4]\n\n10\\. The next section is for Configuration you can look at all the options that are available.  Select the designer accounts configurations. It holds the connector accounts configurations. After selecting it click Next.\n\n![alt text][images/73b.png]\n\n11\\. The final section is the server details.   We will give it a name, select \"local\" in for Designer flows mode and \"api-flows\" in the Designer flows drop down combo.\n\n![alt text][images/4.png6]\n\n12\\. This will take you back to the Servers Dashboard where you will see your new server.  To start with, it will be showing Unavailable while it is starting up the pods for it. (Note: You might need to refresh your browser window if it doesn't refreesh for over a minute). Once it is up and running it will show the following:\n\n![alt text][images/4.png8]\n\n13. CLick In the integration Server and then click in the API.\n\n    ![alt text][images/75.png]\n\n14\\. We can also quickly test the API call running in the Integration server.   Select the GET accounts operation, then click Try it and then click Send.\n\n![alt text][images/4.png9]\n\n15\\.You will see the results of the API call.\n\nWhile building the API flow in ACE Designer we where able to test the API in the manner. I this step we have deployed and tested the API in the runtime/production environment which is an ACE Integration Server.\n\n[Return to main lab page](/acelabs/Overview)\n\n[images/0.png]: images/0.png\n[images/1.png]: images/1.png\n[images/2.png]: images/2.png\n[images/3.png]: images/3.png\n[images/4.png]: images/4.png\n[images/5.png]: images/5.png\n[images/6.png]: images/6.png\n[images/7.png]: images/7.png\n[images/8.png]: images/8.png\n[images/9.png]: images/9.png\n[images/9ai.png]: images/9ai.png\n[images/1.png0]: images/10.png\n[images/1.png1]: images/11.png\n[images/1.png2]: images/12.png\n[images/1.png3]: images/13.png\n[images/1.png4]: images/14.png\n[images/1.png5]: images/15.png\n[images/1.png6]: images/16.png\n[images/1.png7]: images/17.png\n[images/1.png8]: images/18.png\n[images/1.png9]: images/19.png\n[images/2.png0]: images/20.png\n[images/2.png1]: images/21.png\n[images/2.png2]: images/22.png\n[images/2.png3]: images/50b.png\n[images/2.png4]: images/50c.png\n[images/2.png5]: images/50d.png\n[images/2.png6a]: images/26a.png\n[images/2.png6]: images/26.png\n[images/2.png7]: images/27.png\n[images/2.png8]: images/28.png\n[images/2.png9]: images/29.png\n[images/3.png0]: images/30.png\n[images/3.png1]: images/31.png\n[images/3.png2]: images/32.png\n[images/3.png3]: images/33.png\n[images/3.png4]: images/34.png\n[images/3.png5]: images/35.png\n[images/3.png6]: images/36.png\n[images/3.png7]: images/60.png\n[images/3.png8]: images/38.png\n[images/3.png9]: images/61.png\n[images/4.png0]: images/40.png\n[images/4.png1]: images/41.png\n[images/4.png2]: images/70.png\n[images/4.png3]: images/71.png\n[images/4.png4]: images/44.png\n[images/4.png5]: images/45.png\n[images/4.png6]: images/73.png\n[images/4.png7]: images/47.png\n[images/4.png8]: images/74.png\n[images/4.png9]: images/80.png\n[images/5.png0]: images/50.png\n[images/5.png1]: images/51.png\n[images/20b.png]: images/20b.png\n[images/20c.png]: images/20c.png\n[images/20d.png]: images/20d.png\n[images/50a.png]: images/50a.png\n[images/73b.png]: images/73b.png\n[images/75.png]: images/75.png\n","type":"Mdx","contentDigest":"b23fbbecaf76e2b065a232b7037ab519","owner":"gatsby-plugin-mdx","counter":1603},"frontmatter":{"title":"App Connect Designer Salesforce"},"exports":{},"rawBody":"---\ntitle: App Connect Designer Salesforce\n---\n[Return to main lab page](../../acelabs/Overview/)\n\n# Table of Contents\n\n- [Table of Contents](#table-of-contents)\n- [1. Introduction](#1-introduction-)\n- [2. Create a Designer Flow in CP4I to Call Salesforce  ](#2-create-a-designer-flow-in-cp4i-to-call-salesforce--)\n  - [2a Testing the API flow ](#2a-testing-the-api-flow-)\n- [3. Deploying Your Designer Flow to App Connect Dashboard ](#3-deploying-your-designer-flow-to-app-connect-dashboard-)\n\n---\n\n# 1. Introduction \n\nThe purpose of this LAB is to show how to retrieve Salesforce Account Records using IBM App Connect Designer on IBM Cloud Pak for Integration. When prompted to log in to CP4I  use the username and password provided to you for this lab.\n\n## 2. Create a Designer Flow in CP4I to Call Salesforce  \n\nIn this section we use App Connect Designer to create a flow that will be exposed as an API to connect and call Salesforce records.\n\n1\\. Select the Enterprise LDAP\n\n![alt text][images/0.png]\n\n2\\. When prompted use the username and password provided to you for this lab. In this example we are using cody1.\n\n3\\. Within the Integrations cox click on the Designer link to take you to the App Connect Designer dashboard.\n\n![alt text][images/2.png]\n\n4\\. Click on Create Flows for an API:\n\n![alt text][images/8.png]\n\n5\\. First thing we will do is create the model for this.  We will call the model **SalesforceRetrieve**\n\n![alt text][images/9.png]\n\n6\\. For this example, we will map the following properties which are all data type String. You can also set the data type to Number for properties containing numerical integer values.\n\n1. AccountID\n2. AccountName\n3. Website\n\n![alt text][images/1.png0]\n\n7\\. Now that we have defined the properties in our API model definition, we can implement a flow by clicking on the Operations tab. The Operations tab is located next to the Properties tab.\nFrom the Operations drop-down menu, select Add a Custom Operation. Here we will customize the operation that we want our API to perform.\n\n8\\. Customize the details of your API operation.\n\n* **Note**: You can optionally set a description for your individual API operation.\n  * Display Name:**Retrieve Accounts**\n  * HTTP Verb:**GET**\n  * Operation Name:**accounts**\n    * Note: The operation name will be a part of your API Endpoint URL and is therefore consumer-facing.\n  * Response body:**SalesforceRetrieve**\n\n9\\. After customizing your API operation, the details should match the image below.\n\n![alt text][images/1.png1]\n\nNow we can click the Implement Flow button next to our API operation definition. This will take us to the App Connect Designer flow. This is where we can insert Smart Connectors to communicate with a variety of external applications as well as implement conditional logic and callable flows.\n\n10\\. After clicking the blue plus icon on our flow designer interface, we will be able to see the variety of Smart Connectors offered by IBM App Connect Designer. You will also see an option for callable flows which allows you to integrate more complex logic into your Designer flows by building them in App Connect Enterprise Toolkit and calling them via REST API protocols.\n\n![alt text][images/1.png2]\n\n11\\.For our lab, we will be using the Salesforce smart connector, so let us scroll down to the Salesforce connector and select it.\n\n12\\. There is a vast catalog of different Salesforce objects you can interact with from App Connect Designer. In this lab we are retrieving Account information so go ahead and drop down the Accounts option and click Retrieve accounts.\n\n![alt text][images/1.png3]\n\n13\\. The next interface that populates under our Designer flow allows us to add conditionals to our integration flow. For example, if we want to retrieve all account records for a particular account, we can specify this condition by setting the AccountName key to the respective account.\n\nIn our example, we will retrieve the first 4 Salesforce account records. In order to do this, we can set the Maximum number of items to retrieve field to 4.  And then select, Process 4 item from the collection in the radio button options. As you can see there is also some error handling options provided by App Connect Designer below.\n\nA helpful feature offered by the Smart Connectors is the **“Try this action”** button outlined in the green box above. Clicking this button will allow you to test your Salesforce connection.\n\n![alt text][images/1.png4]\n\n14\\. You can now click on the View details to see the results.   This is done even before your API is complete and allows you to see info that is returned from Salesforce to be mapped.\n\n![alt text][images/1.png5]\n\n15\\. This shows the Test Results details.\n\n![alt text][images/1.png6]\n\n16\\. Now we can configurate our API Response body to populate a successful response message with the data fields we are interested in returning to our consumer. Go ahead and click the Response button on the integration flow (outlined in the blue box below).\n\n![alt text][images/1.png7]\n\n17\\. Now we will map our API Response keys to the respective values we want our consumer to obtain from Salesforce. Let us start with the **AccountID** field.\n\n* Click within the textbox for AccountID.\n* A popup window will appear with A.I. enabled suggested mappings from the data available to the flow. At the right hand side of each flow shows a vertical line of dots that show the level of confidence.\n* Click on the Account ID from Salesforce\n\n![alt text][images/9ai.png]\n\nRepeat the same process for Account Name and Website selecting the corresponding fields from Salesforce.\n\nNote: If you accidendly click twice on the input field the popup suggestion window will close. Click away from the input field and back again into it so it'll pop up again.\n\n18\\. After populating all the fields your mapping should match the image attached below.\n\n![alt text][images/2.png0]\n\n19\\. Click Done.\n\n![alt text][images/20b.png]\n\n20\\. We are now ready to start the API but first need to give it a meaningful name. Cliecn on the current name of the API. For example Untitled API 1.\n\n![alt text][images/20c.png]\n\n21. Enter your userid followed by SFAccounts as name and then toggle the slider on the right from Stopped to Started.\n\n![images/20d.png][images/20d.png]\n\n## 2a Testing the API flow \n\n1\\. Once the flow switches to Started state a Test tab will appear. Click on it.\n\n![alt text][images/50a.png]\n\n2\\. Now select the GET operation on the left menu and review the information on this API we just created.  Now you should be able to see the Details pane describing the properties and parameters of your REST API operation. The full URL endpoint for your Designer flow is also displayed.\n\n![alt text][images/2.png3]\n\n3\\. Click on Try It to test the API\n\n![alt text][images/2.png4]\n\n4\\. Click on the Send button. This will trigger an API call to your Designer flow and in turn populate a Request and Response pane below the Send button.\n\n![alt text][images/2.png5]\n\n# 3. Deploying Your Designer Flow to App Connect Dashboard \n\nNow we can export our Designer flow App Connect Dashboard on Cloud Pak for Integration. Navigate to your App Connect Designer Dashboard so we can export our flow as a BAR file.\n\n1\\. Click on Dashboard to get back to the main designer page where you will see your API running.\n\n![alt text][images/3.png7]\n\n2\\. You will see that your API is running and you then will click on the triple-dot icon on your Designer flow.  Select Export.\n\n![alt text][images/3.png8]\n\n3\\. We will export this API as a runtime flow asset (BAR).\n\n![alt text][images/3.png9]\n\n4\\. You will save the BAR file locally on your PC and will use that to deploy to the AppConnect runtime.\n\n5\\. Now we will go back to the Integration home page. Click on the IBM Cloud Pak for Integration on the top menu\n\n![alt text][images/4.png0]\n\n6\\. From the Platform Navigator, select your App Connect Dashboard instance.\n\n![alt text][images/4.png1]\n\n7\\. Now select the Create a server option from your App Connect Dashboard capability\n\n![alt text][images/4.png2]\n\n8\\. We will now select Quick start integration to create a small deployment of an ACE Integration Server.\n\n![alt text][images/4.png3]\n\n9\\. Now we will either drag and drop the BAR file we just exported or we can click to upload it.  Then click next.\n\n![alt text][images/4.png4]\n\n10\\. The next section is for Configuration you can look at all the options that are available.  Select the designer accounts configurations. It holds the connector accounts configurations. After selecting it click Next.\n\n![alt text][images/73b.png]\n\n11\\. The final section is the server details.   We will give it a name, select \"local\" in for Designer flows mode and \"api-flows\" in the Designer flows drop down combo.\n\n![alt text][images/4.png6]\n\n12\\. This will take you back to the Servers Dashboard where you will see your new server.  To start with, it will be showing Unavailable while it is starting up the pods for it. (Note: You might need to refresh your browser window if it doesn't refreesh for over a minute). Once it is up and running it will show the following:\n\n![alt text][images/4.png8]\n\n13. CLick In the integration Server and then click in the API.\n\n    ![alt text][images/75.png]\n\n14\\. We can also quickly test the API call running in the Integration server.   Select the GET accounts operation, then click Try it and then click Send.\n\n![alt text][images/4.png9]\n\n15\\.You will see the results of the API call.\n\nWhile building the API flow in ACE Designer we where able to test the API in the manner. I this step we have deployed and tested the API in the runtime/production environment which is an ACE Integration Server.\n\n[Return to main lab page](/acelabs/Overview)\n\n[images/0.png]: images/0.png\n[images/1.png]: images/1.png\n[images/2.png]: images/2.png\n[images/3.png]: images/3.png\n[images/4.png]: images/4.png\n[images/5.png]: images/5.png\n[images/6.png]: images/6.png\n[images/7.png]: images/7.png\n[images/8.png]: images/8.png\n[images/9.png]: images/9.png\n[images/9ai.png]: images/9ai.png\n[images/1.png0]: images/10.png\n[images/1.png1]: images/11.png\n[images/1.png2]: images/12.png\n[images/1.png3]: images/13.png\n[images/1.png4]: images/14.png\n[images/1.png5]: images/15.png\n[images/1.png6]: images/16.png\n[images/1.png7]: images/17.png\n[images/1.png8]: images/18.png\n[images/1.png9]: images/19.png\n[images/2.png0]: images/20.png\n[images/2.png1]: images/21.png\n[images/2.png2]: images/22.png\n[images/2.png3]: images/50b.png\n[images/2.png4]: images/50c.png\n[images/2.png5]: images/50d.png\n[images/2.png6a]: images/26a.png\n[images/2.png6]: images/26.png\n[images/2.png7]: images/27.png\n[images/2.png8]: images/28.png\n[images/2.png9]: images/29.png\n[images/3.png0]: images/30.png\n[images/3.png1]: images/31.png\n[images/3.png2]: images/32.png\n[images/3.png3]: images/33.png\n[images/3.png4]: images/34.png\n[images/3.png5]: images/35.png\n[images/3.png6]: images/36.png\n[images/3.png7]: images/60.png\n[images/3.png8]: images/38.png\n[images/3.png9]: images/61.png\n[images/4.png0]: images/40.png\n[images/4.png1]: images/41.png\n[images/4.png2]: images/70.png\n[images/4.png3]: images/71.png\n[images/4.png4]: images/44.png\n[images/4.png5]: images/45.png\n[images/4.png6]: images/73.png\n[images/4.png7]: images/47.png\n[images/4.png8]: images/74.png\n[images/4.png9]: images/80.png\n[images/5.png0]: images/50.png\n[images/5.png1]: images/51.png\n[images/20b.png]: images/20b.png\n[images/20c.png]: images/20c.png\n[images/20d.png]: images/20d.png\n[images/50a.png]: images/50a.png\n[images/73b.png]: images/73b.png\n[images/75.png]: images/75.png\n","fileAbsolutePath":"/Users/thomas/Documents/IBM/Projects/Internal/techjam/src/pages/ace/Lab_1/index.md"}}},
    "staticQueryHashes": ["1364590287","137577622","2102389209","2456312558","2746626797","3018647132","3037994772","768070550"]}